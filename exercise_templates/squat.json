{
  "name": "Agachamento",
  "main_angle": "right_knee_flexion",
  "kalman_filter_params": {
    "R": 10,
    "Q": 1.0
  },
  "landmarks_to_hide": [
    "LEFT_WRIST", "RIGHT_WRIST",
    "LEFT_PINKY", "RIGHT_PINKY",
    "LEFT_INDEX", "RIGHT_INDEX",
    "LEFT_THUMB", "RIGHT_THUMB"
  ],
  "angle_definitions": {
    "right_knee_flexion": ["RIGHT_HIP", "RIGHT_KNEE", "RIGHT_ANKLE"],
    "left_knee_flexion": ["LEFT_HIP", "LEFT_KNEE", "LEFT_ANKLE"],
    "right_hip_flexion": ["RIGHT_SHOULDER", "RIGHT_HIP", "RIGHT_KNEE"],
    "left_hip_flexion": ["LEFT_SHOULDER", "LEFT_HIP", "LEFT_KNEE"]
  },
  "rules": {
    "state_change": {
      "down_angle": 130,
      "up_angle": 142
    },
    "feedback": [
      {
        "type": "angle_offset",
        "base_angle": "right_knee_flexion",
        "offset_angle": "right_hip_flexion",
        "message": "Profundidade ou coordenacao incorreta.",
        "apply_when": "AGACHADO",
        "expected_offset_range": { "min": 15, "max": 50 }
      },
      {
        "type": "segment_parallelism",
        "segment1": ["RIGHT_HIP", "RIGHT_SHOULDER"],
        "segment2": ["RIGHT_ANKLE", "RIGHT_KNEE"],
        "message": "Desequilibrio tronco-canela.",
        "max_difference": 30
      }
    ]
  }
}